<link rel="import" href="../components/polymer/polymer.html">

<polymer-element name="loadingSpinner-element">
  <template>
	<style>
		.loader{
			position: relative;
			width: 60px;
			height: 60px;
			float:left;
			user-select: none;
			box-sizing: border-box;
		}
		.loader-bg
		{
			width: 100%;
			height: 100%;
			border-radius: 50%;
			border: 2px solid rgba(255, 255, 255, 1);
			box-sizing: border-box;
		}
		.spiner-holder-one
		{
			position: absolute;
			top:0;
			left:0;
			overflow: hidden;
			width: 50%;
			height: 50%;
			background: transparent;
			box-sizing: border-box;
		}
		.spiner-holder-two
		{
			position: absolute;
			top:0;
			left:0;
			overflow: hidden;
			width: 100%;
			height: 100%;
			background: transparent;
			box-sizing: border-box;
		}
		.loader-spiner
		{
			width: 200%;
			height: 200%;
			border-radius: 50%;
			border: 6px solid rgba(255, 255, 255, 1);
			box-sizing: border-box;
		}  
		  .animate-0-25-a
		{
			-webkit-transform: rotate(90deg);
			-webkit-transform-origin: 100% 100%;
		}
		.animate-0-25-b
		{
			-webkit-transform: rotate(-90deg);
			-webkit-transform-origin: 100% 100%;
		}
		.animate-25-50-a
		{
			-webkit-transform: rotate(180deg);
			-webkit-transform-origin: 100% 100%;
		}
		.animate-25-50-b
		{
			-webkit-transform: rotate(-90deg);
			-webkit-transform-origin: 100% 100%;
		}
		.animate-50-75-a
		{
			-webkit-transform: rotate(270deg);
			-webkit-transform-origin: 100% 100%;
		}
		.animate-50-75-b
		{
			-webkit-transform: rotate(-90deg);
			-webkit-transform-origin:100% 100%;
		}
		.animate-75-100-a
		{
			-webkit-transform: rotate(0deg);
			-webkit-transform-origin: 100% 100%;
		}
		.animate-75-100-b
		{
			-webkit-transform: rotate(-90deg);
			-webkit-transform-origin: 100% 100%;
		}
		.text
		{
			text-align: center;
			padding-top:32%;
			font-size: 12px;     
			color: rgba(255, 255, 255, 0.3);
		}
	</style>
	<div layout horizontal center center-justified>
		<div class="loader">
            <div class="loader-bg">
                <div class="text"></div>
            </div>        
            <div class="spiner-holder-one animate-0-25-a">
                <div class="spiner-holder-two animate-0-25-b">
                    <div class="loader-spiner" style=""></div>
                </div>
            </div>
            <div class="spiner-holder-one animate-25-50-a">
                <div class="spiner-holder-two animate-25-50-b">
                    <div class="loader-spiner"></div>
                </div>
            </div>
            <div class="spiner-holder-one animate-50-75-a">
                <div class="spiner-holder-two animate-50-75-b">
                    <div class="loader-spiner"></div>
                </div>
            </div>
            <div class="spiner-holder-one animate-75-100-a">
                <div class="spiner-holder-two animate-75-100-b">
                    <div class="loader-spiner"></div>
                </div>
            </div>
        </div>
	</div>
  </template>
  <script>

	Polymer('loadingSpinner-element', {
		
		ready: function() {
			this.renderProgress(0);
		},
		renderProgress: function(progress) {
			try {
				progress = Math.floor(progress);
				var temp;
				
				if(progress<25){
					var angle = -90 + (progress/100)*360;
					temp = this.shadowRoot.querySelector(".animate-0-25-b");
					temp.style["-webkit-transform"] = "rotate("+angle+"deg)";
					//this.shadowRoot.querySelector(".animate-0-25-b").css("-webkit-transform","rotate("+angle+"deg)");
				}
				else if(progress>=25 && progress<50){
					var angle = -90 + ((progress-25)/100)*360;
					
					temp = this.shadowRoot.querySelector(".animate-0-25-b");
					temp.style["-webkit-transform"] = "rotate(0deg)";
					
					temp = this.shadowRoot.querySelector(".animate-25-25-b");
					temp.style["-webkit-transform"] = "rotate("+angle+"deg)";
					
				}
				else if(progress>=50 && progress<75){
					var angle = -90 + ((progress-50)/100)*360;
					
					temp = this.shadowRoot.querySelector(".animate-0-25-b");
					temp.style["-webkit-transform"] = "rotate(0deg)";
					
					temp = this.shadowRoot.querySelector(".animate-25-50-b");
					temp.style["-webkit-transform"] = "rotate(0deg)";
					
					temp = this.shadowRoot.querySelector(".animate-50-75-b");
					temp.style["-webkit-transform"] = "rotate("+angle+"deg)";
					
				}
				else if(progress>=75 && progress<=100){
					var angle = -90 + ((progress-75)/100)*360;
					
					temp = this.shadowRoot.querySelector(".animate-0-25-b");
					temp.style["-webkit-transform"] = "rotate(0deg)";
					
					temp = this.shadowRoot.querySelector(".animate-25-50-b");
					temp.style["-webkit-transform"] = "rotate(0deg)";
					
					temp = this.shadowRoot.querySelector(".animate-50-75-b");
					temp.style["-webkit-transform"] = "rotate(0deg)";
					
					temp = this.shadowRoot.querySelector(".animate-75-100-b");
					temp.style["-webkit-transform"] = "rotate("+angle+"deg)";
					
				}
			} catch (err) {
		      console.log("Error:", err);
		    }
			//this.shadowRoot.querySelector(".text").html(progress+"%");
		}
	});

  </script>
</polymer-element>