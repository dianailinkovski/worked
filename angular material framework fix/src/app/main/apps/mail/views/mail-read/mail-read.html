<!-- MAIL CONTENT -->
<div class="mail-header" layout="row" layout-align="space-between center" layout-sm="column" layout-align-sm="space-between end">
    <div class="subject" flex>{{vm.selectedMail.subject}}</div>

    <div layout="row" layout-align="end center">
        <md-menu>
            <md-button aria-label="More" class="md-icon-button"
                       ng-click="$mdOpenMenu($event)"
                       translate translate-aria-label="MAIL.MORE">
                <md-icon md-font-icon="icon-dots-vertical"></md-icon>
                <md-tooltip><span translate="MAIL.MORE"></span></md-tooltip>
            </md-button>

            <md-menu-content width="3">
                <md-menu-item>
                    <md-button aria-label="Reply" translate-aria-label="MAIL.REPLY" ng-click="vm.replyDialog($event)">
                        <md-icon md-font-icon="icon-reply"></md-icon>
                        <span translate="MAIL.REPLY">Reply</span>
                    </md-button>
                </md-menu-item>

                <md-menu-item>
                    <md-button aria-label="Archive" translate-aria-label="MAIL.ARCHIVE">
                        <md-icon md-font-icon="icon-archive"></md-icon>
                        <span translate="MAIL.ARCHIVE">Archive</span>
                    </md-button>
                </md-menu-item>

                <md-menu-item>
                    <md-button aria-label="Spam" translate-aria-label="MAIL.SPAM">
                        <md-icon md-font-icon="icon-alert-octagon"></md-icon>
                        <span translate="MAIL.SPAM">Spam</span>
                    </md-button>
                </md-menu-item>

                <md-menu-item>
                    <md-button aria-label="Delete" translate-aria-label="MAIL.DELETE">
                        <md-icon md-font-icon="icon-delete"></md-icon>
                        <span translate="MAIL.DELETE">Delete</span>
                    </md-button>
                </md-menu-item>

                <md-menu-item>
                    <md-button aria-label="Mark as unread" translate-aria-label="MAIL.MARK_AS_UNREAD">
                        <md-icon md-font-icon="icon-checkbox-blank-outline"></md-icon>
                        <span translate="MAIL.MARK_AS_UNREAD">Mark as unread</span>
                    </md-button>
                </md-menu-item>

                <md-menu-item>
                    <md-button aria-label="Mark as important" translate-aria-label="MAIL.MARK_AS_IMPORTANT">
                        <md-icon md-font-icon="icon-marker-check"></md-icon>
                        <span translate="MAIL.MARK_AS_IMPORTANT">Mark as important</span>
                    </md-button>
                </md-menu-item>

                <md-menu-item>
                    <md-button aria-label="Add label" translate-aria-label="MAIL.ADD_LABEL">
                        <md-icon md-font-icon="icon-label"></md-icon>
                        <span translate="MAIL.ADD_LABEL">Add label</span>
                    </md-button>
                </md-menu-item>
            </md-menu-content>
        </md-menu>
    </div>
</div>

<div class="mail-content">
    <div class="info" layout="row" layout-align="space-between center" layout-sm="column">
        <div layout="row" layout-align="start center" layout-sm="column" layout-align-sm="center center">
            <div>
                <img ng-if="vm.selectedMail.from.avatar" alt="{{vm.selectedMail.from.name}}"
                     ng-src="{{vm.selectedMail.from.avatar}}" class="avatar"/>

                <div ng-if="!vm.selectedMail.from.avatar" class="avatar" ms-random-class="vm.colors">
                    {{vm.selectedMail.from.name[0]}}
                </div>
            </div>

            <div layout="column" layout-align="start" layout-align-sm="center center">
                <div layout="row" layout-wrap layout-sm="column" layout-align-sm="center center">
                    <div class="name">
                        {{vm.selectedMail.from.name}}
                    </div>

                    <div class="mail">
                        &lt;{{vm.selectedMail.from.email}}&gt;
                    </div>
                </div>

                <div layout="row" layout-align="start center">
                    <div class="to" translate="MAIL.TO">
                        to
                    </div>

                    <div class="name">
                        {{vm.selectedMail.to[0].name}}
                    </div>
                </div>
            </div>
        </div>

        <div class="time text-nowrap">
            {{vm.selectedMail.time}}
        </div>

    </div>

    <div ng-bind-html="vm.selectedMail.message"></div>

</div>

<div ng-if="vm.selectedMail.attachments" class="attachments">
    <div class="title">
        <span translte="MAIL.ATTACHMENTS">Attachments</span> ({{vm.selectedMail.attachments.length}})
    </div>
    <div class="attachment-list" layout-wrap layout="row">
        <div class="attachment" layout="column"
             ng-repeat="attachment in vm.selectedMail.attachments">
            <img class="preview" ng-src="{{attachment.preview}}">

            <div layout="column">
                <a href="#" class="md-accent-color link" translate="MAIL.VIEW">View</a>
                <a href="#" class="md-accent-color link" translate="MAIL.DOWNLOAD">Download</a>

                <div class="size">({{attachment.size}})</div>
            </div>
        </div>
    </div>
</div>
<!-- / MAIL CONTENT -->